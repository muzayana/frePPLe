<?xml version="1.0" encoding="UTF-8"?>
<plan xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<name>Forecast matching test model</name>
	<description>
    This test case test the matching between an actual order and a forecast.
    Different scenarios are being validated:
      - A: match at &apos;customer&apos;+&apos;item&apos; level
      - B: match at &apos;item&apos; level
      - C: match at &apos;parent customer&apos; + &apos;item&apos; level
      - D: match at &apos;customer&apos; + &apos;parent item&apos; level
      - E: match at &apos;parent customer&apos; + &apos;parent item&apos; level
  </description>
	<current>2009-01-01T00:00:00</current>
	<solvers>
		<solver name="Netting orders from forecast" xsi:type="solver_forecast">
			<loglevel>2</loglevel>
		</solver>
	</solvers>
	<customers>
		<customer name="A customer">
			<owner name="A parent customer"/>
		</customer>
		<customer name="A grandparent customer">
			<members>
				<customer name="A parent customer"/>
			</members>
		</customer>
		<customer name="A parent customer">
			<owner name="A grandparent customer"/>
			<members>
				<customer name="A customer"/>
			</members>
		</customer>
		<customer name="B customer">
			<owner name="B parent customer"/>
		</customer>
		<customer name="B grandparent customer">
			<members>
				<customer name="B parent customer"/>
			</members>
		</customer>
		<customer name="B parent customer">
			<owner name="B grandparent customer"/>
			<members>
				<customer name="B customer"/>
			</members>
		</customer>
		<customer name="C customer">
			<owner name="C parent customer"/>
		</customer>
		<customer name="C grandparent customer">
			<members>
				<customer name="C parent customer"/>
			</members>
		</customer>
		<customer name="C parent customer">
			<owner name="C grandparent customer"/>
			<members>
				<customer name="C customer"/>
			</members>
		</customer>
		<customer name="D customer">
			<owner name="D parent customer"/>
		</customer>
		<customer name="D grandparent customer">
			<members>
				<customer name="D parent customer"/>
			</members>
		</customer>
		<customer name="D parent customer">
			<owner name="D grandparent customer"/>
			<members>
				<customer name="D customer"/>
			</members>
		</customer>
		<customer name="E customer">
			<owner name="E parent customer"/>
		</customer>
		<customer name="E grandparent customer">
			<members>
				<customer name="E parent customer"/>
			</members>
		</customer>
		<customer name="E parent customer">
			<owner name="E grandparent customer"/>
			<members>
				<customer name="E customer"/>
			</members>
		</customer>
	</customers>
	<calendars>
		<calendar name="Months">
			<buckets>
				<bucket id="1" start="2009-01-01T00:00:00" end="2009-02-01T00:00:00">
					<value>1</value>
				</bucket>
				<bucket id="2" start="2009-02-01T00:00:00" end="2009-03-01T00:00:00">
					<value>1</value>
				</bucket>
				<bucket id="3" start="2009-03-01T00:00:00" end="2009-04-01T00:00:00">
					<value>1</value>
				</bucket>
			</buckets>
		</calendar>
	</calendars>
	<operations>
		<operation name="A delivery" xsi:type="operation_fixed_time">
			<duration>P1D</duration>
		</operation>
		<operation name="B delivery" xsi:type="operation_fixed_time">
			<duration>P1D</duration>
		</operation>
		<operation name="C delivery" xsi:type="operation_fixed_time">
			<duration>P1D</duration>
		</operation>
		<operation name="D delivery" xsi:type="operation_fixed_time">
			<duration>P1D</duration>
		</operation>
		<operation name="E delivery" xsi:type="operation_fixed_time">
			<duration>P1D</duration>
		</operation>
	</operations>
	<items>
		<item name="A grandparent item">
			<members>
				<item name="A parent item"/>
			</members>
		</item>
		<item name="A item">
			<owner name="A parent item"/>
			<operation name="A delivery" xsi:type="operation_fixed_time"/>
		</item>
		<item name="A parent item">
			<owner name="A grandparent item"/>
			<members>
				<item name="A item"/>
			</members>
		</item>
		<item name="B grandparent item">
			<members>
				<item name="B parent item"/>
			</members>
		</item>
		<item name="B item">
			<owner name="B parent item"/>
			<operation name="B delivery" xsi:type="operation_fixed_time"/>
		</item>
		<item name="B parent item">
			<owner name="B grandparent item"/>
			<members>
				<item name="B item"/>
			</members>
		</item>
		<item name="C grandparent item">
			<members>
				<item name="C parent item"/>
			</members>
		</item>
		<item name="C item">
			<owner name="C parent item"/>
			<operation name="C delivery" xsi:type="operation_fixed_time"/>
		</item>
		<item name="C parent item">
			<owner name="C grandparent item"/>
			<members>
				<item name="C item"/>
			</members>
		</item>
		<item name="D grandparent item">
			<members>
				<item name="D parent item"/>
			</members>
		</item>
		<item name="D item">
			<owner name="D parent item"/>
			<operation name="D delivery" xsi:type="operation_fixed_time"/>
		</item>
		<item name="D parent item">
			<owner name="D grandparent item"/>
			<members>
				<item name="D item"/>
			</members>
		</item>
		<item name="E grandparent item">
			<members>
				<item name="E parent item"/>
			</members>
		</item>
		<item name="E item">
			<owner name="E parent item"/>
			<operation name="E delivery" xsi:type="operation_fixed_time"/>
		</item>
		<item name="E parent item">
			<owner name="E grandparent item"/>
			<members>
				<item name="E item"/>
			</members>
		</item>
	</items>
	<demands>
		<demand name="A forecast" xsi:type="demand_forecast">
			<item name="A item"/>
			<calendar name="Months"/>
			<buckets>
				<bucket start="2009-01-01T00:00:00">
					<total>100</total>
					<quantity>90</quantity>
					<consumed>10</consumed>
				</bucket>
				<bucket start="2009-02-01T00:00:00">
					<total>0</total>
					<quantity>0</quantity>
					<consumed>0</consumed>
				</bucket>
				<bucket start="2009-03-01T00:00:00">
					<total>0</total>
					<quantity>0</quantity>
					<consumed>0</consumed>
				</bucket>
			</buckets>
		</demand>
		<demand name="A forecast not selected" xsi:type="demand_forecast">
			<item name="A parent item"/>
			<calendar name="Months"/>
			<buckets>
			</buckets>
		</demand>
		<demand name="A order">
			<customer name="A customer"/>
			<quantity>10</quantity>
			<item name="A item"/>
			<due>2009-01-02T00:00:00</due>
		</demand>
		<demand name="B forecast" xsi:type="demand_forecast">
			<item name="B item"/>
			<calendar name="Months"/>
			<buckets>
				<bucket start="2009-01-01T00:00:00">
					<total>100</total>
					<quantity>80</quantity>
					<consumed>20</consumed>
				</bucket>
				<bucket start="2009-02-01T00:00:00">
					<total>0</total>
					<quantity>0</quantity>
					<consumed>0</consumed>
				</bucket>
				<bucket start="2009-03-01T00:00:00">
					<total>0</total>
					<quantity>0</quantity>
					<consumed>0</consumed>
				</bucket>
			</buckets>
		</demand>
		<demand name="B order 1">
			<customer name="B customer"/>
			<quantity>10</quantity>
			<item name="B item"/>
			<due>2009-01-02T00:00:00</due>
		</demand>
		<demand name="B order 2">
			<quantity>10</quantity>
			<item name="B item"/>
			<due>2009-01-02T00:00:00</due>
		</demand>
		<demand name="C forecast" xsi:type="demand_forecast">
			<item name="C item"/>
			<calendar name="Months"/>
			<buckets>
				<bucket start="2009-01-01T00:00:00">
					<total>100</total>
					<quantity>90</quantity>
					<consumed>10</consumed>
				</bucket>
				<bucket start="2009-02-01T00:00:00">
					<total>0</total>
					<quantity>0</quantity>
					<consumed>0</consumed>
				</bucket>
				<bucket start="2009-03-01T00:00:00">
					<total>0</total>
					<quantity>0</quantity>
					<consumed>0</consumed>
				</bucket>
			</buckets>
		</demand>
		<demand name="C forecast not selected" xsi:type="demand_forecast">
			<item name="C parent item"/>
			<calendar name="Months"/>
			<buckets>
				<bucket start="2009-01-01T00:00:00">
					<total>100</total>
					<quantity>100</quantity>
					<consumed>0</consumed>
				</bucket>
				<bucket start="2009-02-01T00:00:00">
					<total>0</total>
					<quantity>0</quantity>
					<consumed>0</consumed>
				</bucket>
				<bucket start="2009-03-01T00:00:00">
					<total>0</total>
					<quantity>0</quantity>
					<consumed>0</consumed>
				</bucket>
			</buckets>
		</demand>
		<demand name="C order">
			<customer name="C customer"/>
			<quantity>10</quantity>
			<item name="C item"/>
			<due>2009-01-02T00:00:00</due>
		</demand>
		<demand name="D forecast" xsi:type="demand_forecast">
			<item name="D parent item"/>
			<calendar name="Months"/>
			<buckets>
				<bucket start="2009-01-01T00:00:00">
					<total>100</total>
					<quantity>90</quantity>
					<consumed>10</consumed>
				</bucket>
				<bucket start="2009-02-01T00:00:00">
					<total>0</total>
					<quantity>0</quantity>
					<consumed>0</consumed>
				</bucket>
				<bucket start="2009-03-01T00:00:00">
					<total>0</total>
					<quantity>0</quantity>
					<consumed>0</consumed>
				</bucket>
			</buckets>
		</demand>
		<demand name="D order">
			<customer name="D customer"/>
			<quantity>10</quantity>
			<item name="D item"/>
			<due>2009-01-02T00:00:00</due>
		</demand>
		<demand name="E forecast" xsi:type="demand_forecast">
			<item name="E parent item"/>
			<calendar name="Months"/>
			<buckets>
				<bucket start="2009-01-01T00:00:00">
					<total>100</total>
					<quantity>90</quantity>
					<consumed>10</consumed>
				</bucket>
				<bucket start="2009-02-01T00:00:00">
					<total>0</total>
					<quantity>0</quantity>
					<consumed>0</consumed>
				</bucket>
				<bucket start="2009-03-01T00:00:00">
					<total>0</total>
					<quantity>0</quantity>
					<consumed>0</consumed>
				</bucket>
			</buckets>
		</demand>
		<demand name="E order">
			<customer name="E customer"/>
			<quantity>10</quantity>
			<item name="E item"/>
			<due>2009-01-02T00:00:00</due>
		</demand>
	</demands>
	<problems>
		<problem>
			<name>unplanned</name>
			<description>Demand &apos;A forecast - 2009-01-01T00:00:00&apos; is not planned</description>
			<start>2009-01-01T00:00:00</start>
			<end>2009-01-01T00:00:00</end>
			<weight>90</weight>
		</problem>
		<problem>
			<name>unplanned</name>
			<description>Demand &apos;A order&apos; is not planned</description>
			<start>2009-01-02T00:00:00</start>
			<end>2009-01-02T00:00:00</end>
			<weight>10</weight>
		</problem>
		<problem>
			<name>unplanned</name>
			<description>Demand &apos;B forecast - 2009-01-01T00:00:00&apos; is not planned</description>
			<start>2009-01-01T00:00:00</start>
			<end>2009-01-01T00:00:00</end>
			<weight>80</weight>
		</problem>
		<problem>
			<name>unplanned</name>
			<description>Demand &apos;B order 1&apos; is not planned</description>
			<start>2009-01-02T00:00:00</start>
			<end>2009-01-02T00:00:00</end>
			<weight>10</weight>
		</problem>
		<problem>
			<name>unplanned</name>
			<description>Demand &apos;B order 2&apos; is not planned</description>
			<start>2009-01-02T00:00:00</start>
			<end>2009-01-02T00:00:00</end>
			<weight>10</weight>
		</problem>
		<problem>
			<name>unplanned</name>
			<description>Demand &apos;C forecast - 2009-01-01T00:00:00&apos; is not planned</description>
			<start>2009-01-01T00:00:00</start>
			<end>2009-01-01T00:00:00</end>
			<weight>90</weight>
		</problem>
		<problem>
			<name>unplanned</name>
			<description>Demand &apos;C forecast not selected - 2009-01-01T00:00:00&apos; is not planned</description>
			<start>2009-01-01T00:00:00</start>
			<end>2009-01-01T00:00:00</end>
			<weight>100</weight>
		</problem>
		<problem>
			<name>unplanned</name>
			<description>Demand &apos;C order&apos; is not planned</description>
			<start>2009-01-02T00:00:00</start>
			<end>2009-01-02T00:00:00</end>
			<weight>10</weight>
		</problem>
		<problem>
			<name>unplanned</name>
			<description>Demand &apos;D forecast - 2009-01-01T00:00:00&apos; is not planned</description>
			<start>2009-01-01T00:00:00</start>
			<end>2009-01-01T00:00:00</end>
			<weight>90</weight>
		</problem>
		<problem>
			<name>unplanned</name>
			<description>Demand &apos;D order&apos; is not planned</description>
			<start>2009-01-02T00:00:00</start>
			<end>2009-01-02T00:00:00</end>
			<weight>10</weight>
		</problem>
		<problem>
			<name>unplanned</name>
			<description>Demand &apos;E forecast - 2009-01-01T00:00:00&apos; is not planned</description>
			<start>2009-01-01T00:00:00</start>
			<end>2009-01-01T00:00:00</end>
			<weight>90</weight>
		</problem>
		<problem>
			<name>unplanned</name>
			<description>Demand &apos;E order&apos; is not planned</description>
			<start>2009-01-02T00:00:00</start>
			<end>2009-01-02T00:00:00</end>
			<weight>10</weight>
		</problem>
	</problems>
</plan>
